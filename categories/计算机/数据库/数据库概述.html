<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="数据库概述"><meta name="keywords" content=""><meta name="author" content="rcocco,rcocco@qq.com"><meta name="copyright" content="rcocco"><title>数据库概述 | rcocco's Blog</title><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.9.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><link rel="dns-prefetch" href="https://hm.baidu.com"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?2f232b8a2af9088714735280ce974c8b";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-193110637-1', 'auto');
ga('send', 'pageview');</script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  hexoVersion: '5.4.0'
} </script><meta name="generator" content="Hexo 5.4.0"></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text"> 简介</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5"><span class="toc-number">2.</span> <span class="toc-text"> 查询语句</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8F%92%E5%85%A5"><span class="toc-number">3.</span> <span class="toc-text"> 插入</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5null"><span class="toc-number">4.</span> <span class="toc-text"> 检查NULL</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%B7%B2%E5%AD%98%E5%9C%A8%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-number">5.</span> <span class="toc-text"> 修改已存在的数据</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%B7%B2%E5%AD%98%E5%9C%A8%E7%9A%84%E8%AE%B0%E5%BD%95%E8%A1%8C"><span class="toc-number">6.</span> <span class="toc-text"> 删除已存在的记录(行)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A1%A8"><span class="toc-number">7.</span> <span class="toc-text"> 创建表</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%A1%A8"><span class="toc-number">8.</span> <span class="toc-text"> 删除表</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%A1%A8%E7%BB%93%E6%9E%84"><span class="toc-number">9.</span> <span class="toc-text"> 修改表结构</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%97%E6%AE%B5%E7%BA%A6%E6%9D%9F"><span class="toc-number">10.</span> <span class="toc-text"> 字段约束</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE"><span class="toc-number">11.</span> <span class="toc-text"> 视图</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95"><span class="toc-number">12.</span> <span class="toc-text"> 索引</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%90%88%E5%B9%B6%E8%A1%A8"><span class="toc-number">13.</span> <span class="toc-text"> 合并表</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%86%E7%BB%84"><span class="toc-number">14.</span> <span class="toc-text"> 分组</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE"><span class="toc-number">15.</span> <span class="toc-text"> 添加数据</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E4%B8%8E%E8%8C%83%E5%BC%8F"><span class="toc-number">16.</span> <span class="toc-text"> 数据库设计与范式</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/avatar.jpg"></div><div class="author-info__name text-center">rcocco</div><div class="author-info__description text-center">personal blog</div><div class="follow-button"><a target="_blank" rel="noopener" href="https://github.com/rcocco">我的Github</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">173</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">27</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(/bg.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">rcocco's Blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">首页</a><a class="site-page" href="/archives">归档</a><a class="site-page" href="/categories">分类</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> 搜索</span></a></span></div><div id="post-info"><div id="post-title">数据库概述</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-03-12</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/">计算机</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h1 id="简介"><a class="markdownIt-Anchor" href="#简介"></a> 简介</h1>
<p><a target="_blank" rel="noopener" href="https://www.w3schools.com/sql/sql_alter.asp">https://www.w3schools.com/sql/sql_alter.asp</a><br />
关系型数据库 RDBMS(Relational Database Management System)<br />
组织形式和EXCEL相同，都是表，只是用代码来操作表格数据<br />
CS模型(client/server)<br />
MySQL(MiaraDB)<br />
PostgreSQL<br />
Access<br />
SQLServer<br />
Oracle<br />
非CS模型<br />
SQLite<br />
非关系型数据库<br />
文档型数据库(MongoDB，PunchDB)<br />
JSON<br />
缓存性数据库<br />
KEY-VALUE数据库：Redis<br />
日志型数据库</p>
<span id="more"></span>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">数据库文件&lt;-&gt;数据库管理系统&lt;-&gt;客户端</span><br><span class="line">         TCP            TCP</span><br></pre></td></tr></table></figure>
<h1 id="查询语句"><a class="markdownIt-Anchor" href="#查询语句"></a> 查询语句</h1>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column1, column2, ... <span class="keyword">FROM</span> table_name;</span><br><span class="line"><span class="keyword">SELECT</span> 字段名 <span class="keyword">FROM</span> 表名;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers;</span><br><span class="line"><span class="keyword">SELECT</span> CustomerName <span class="keyword">FROM</span> Customers;</span><br><span class="line"><span class="keyword">SELECT</span> CustomerName, ContactName <span class="keyword">FROM</span> Customers;</span><br></pre></td></tr></table></figure>
<p>过滤掉值完全相同的行。<br />
<code>(1, 2)</code>和<code>(1, 3)</code>不是完全相同的行。<br />
<code>(1, 2)</code>和<code>(1, 2)</code>是完全相同的行。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> column1, column2, ... <span class="keyword">FROM</span> table_name;</span><br></pre></td></tr></table></figure>
<p>条件查询：<br />
WHERE子句用于添加查询条件。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column1, column2, ...</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">condition</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> Country<span class="operator">=</span><span class="string">&#x27;Mexico&#x27;</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> CustomerID<span class="operator">=</span><span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<p>WHERE子句的运算符有：<br />
LIKE运算符后，<code>_</code>表示单个字符，<code>%</code>表示任意个字符（包括0个）<br />
IN运算符后面可以是括号括起来的值，也可以是一个查询<strong>一个字段</strong>的查询语句，该查询语句得到的所有值会作为IN运算符的内容。<br />
BETWEEN后面如果是数字则是闭区间，字符串是什么意思？</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">=</span> <span class="operator">&gt;</span> <span class="operator">&lt;</span> <span class="operator">&gt;=</span> <span class="operator">&lt;&gt;</span> <span class="keyword">BETWEEN</span> <span class="keyword">LIKE</span> <span class="keyword">IN</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> Price <span class="keyword">BETWEEN</span> <span class="number">50</span> <span class="keyword">AND</span> <span class="number">60</span>;</span><br><span class="line"><span class="keyword">WHERE</span> Price <span class="keyword">NOT</span> <span class="keyword">BETWEEN</span> <span class="number">10</span> <span class="keyword">AND</span> <span class="number">20</span>;</span><br><span class="line"><span class="keyword">WHERE</span> OrderDate <span class="keyword">BETWEEN</span> <span class="string">&#x27;1996-07-01&#x27;</span> <span class="keyword">AND</span> <span class="string">&#x27;1996-07-31&#x27;</span>;</span><br><span class="line"><span class="keyword">WHERE</span> ProductName <span class="keyword">BETWEEN</span> <span class="string">&#x27;Carnarvon Tigers&#x27;</span> <span class="keyword">AND</span> <span class="string">&#x27;Mozzarella di Giovanni&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> City <span class="keyword">LIKE</span> <span class="string">&#x27;s%&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> City <span class="keyword">IN</span> (<span class="string">&#x27;Paris&#x27;</span>,<span class="string">&#x27;London&#x27;</span>);</span><br><span class="line"><span class="keyword">WHERE</span> column_name <span class="keyword">IN</span> (value1, value2, ...);</span><br><span class="line"><span class="keyword">WHERE</span> column_name <span class="keyword">IN</span> (<span class="keyword">SELECT</span> STATEMENT);</span><br><span class="line"><span class="keyword">WHERE</span> Country <span class="keyword">IN</span> (<span class="keyword">SELECT</span> Country <span class="keyword">FROM</span> Suppliers);</span><br></pre></td></tr></table></figure>
<p>还有逻辑运算符：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">WHERE</span> condition1 <span class="keyword">AND</span> condition2 <span class="keyword">AND</span> condition3 ...;</span><br><span class="line"><span class="keyword">WHERE</span> condition1 <span class="keyword">OR</span> condition2 <span class="keyword">OR</span> condition3 ...;</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">condition</span>;</span><br></pre></td></tr></table></figure>
<p>排序，默认以升序<code>ASC</code>排序。每个字段后面都可以控制升序或降序排列。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column1, column2, ...</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> column1, column2, ... <span class="keyword">ASC</span><span class="operator">|</span><span class="keyword">DESC</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> Country <span class="keyword">ASC</span>, CustomerName <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure>
<p>只返回查询到的数据中前N行数据：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_name(s)</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">condition</span></span><br><span class="line">LIMIT number;</span><br></pre></td></tr></table></figure>
<p>AS子句用于为返回的字段或表起别名，字段的别名会作为返回的结果的字段名，表的别名用于WHERE子句。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> CustomerID <span class="keyword">AS</span> ID, CustomerName <span class="keyword">AS</span> Customer</span><br><span class="line"><span class="keyword">FROM</span> Customers;</span><br><span class="line"><span class="keyword">SELECT</span> o.OrderID, o.OrderDate, c.CustomerName</span><br><span class="line"><span class="keyword">FROM</span> Customers <span class="keyword">AS</span> c, Orders <span class="keyword">AS</span> o</span><br><span class="line"><span class="keyword">WHERE</span> c.CustomerName<span class="operator">=</span><span class="string">&#x27;Around the Horn&#x27;</span> <span class="keyword">AND</span> c.CustomerID<span class="operator">=</span>o.CustomerID;</span><br></pre></td></tr></table></figure>
<p>查询给定字段中的最大值、最小值、和、平均值、计数。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MIN</span>(column_name), <span class="built_in">MAX</span>(column_name), <span class="built_in">COUNT</span>(column_name),</span><br><span class="line">  <span class="built_in">AVG</span>(column_name), <span class="built_in">SUM</span>(column_name)</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">condition</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MIN</span>(Price) <span class="keyword">AS</span> SmallestPrice</span><br><span class="line"><span class="keyword">FROM</span> Products;</span><br></pre></td></tr></table></figure>
<h1 id="插入"><a class="markdownIt-Anchor" href="#插入"></a> 插入</h1>
<p>表名后面需要用括号声明要插入的值对应的字段。<br />
如果插入的值对应表中的所有字段，那么可以不声明字段。<br />
插入的字段没填就是null（？）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table_name (column1, column2, column3, ...)</span><br><span class="line"><span class="keyword">VALUES</span> (value1, value2, value3, ...);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table_name</span><br><span class="line"><span class="keyword">VALUES</span> (value1, value2, value3, ...);</span><br></pre></td></tr></table></figure>
<h1 id="检查null"><a class="markdownIt-Anchor" href="#检查null"></a> 检查NULL</h1>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_names</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> column_name <span class="keyword">IS</span> <span class="keyword">NULL</span>;</span><br><span class="line"><span class="keyword">SELECT</span> column_names</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> column_name <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>;</span><br></pre></td></tr></table></figure>
<h1 id="修改已存在的数据"><a class="markdownIt-Anchor" href="#修改已存在的数据"></a> 修改已存在的数据</h1>
<p>不加WHERE子句将修改所有行。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">UPDATE table_name</span><br><span class="line"><span class="keyword">SET</span> column1 <span class="operator">=</span> value1, column2 <span class="operator">=</span> value2, ...</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">condition</span>;</span><br><span class="line">UPDATE Customers</span><br><span class="line"><span class="keyword">SET</span> ContactName <span class="operator">=</span> <span class="string">&#x27;Alfred Schmidt&#x27;</span>, City<span class="operator">=</span> <span class="string">&#x27;Frankfurt&#x27;</span></span><br><span class="line"><span class="keyword">WHERE</span> CustomerID <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">UPDATE Customers</span><br><span class="line"><span class="keyword">SET</span> ContactName<span class="operator">=</span><span class="string">&#x27;Juan&#x27;</span></span><br><span class="line"><span class="keyword">WHERE</span> Country<span class="operator">=</span><span class="string">&#x27;Mexico&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h1 id="删除已存在的记录行"><a class="markdownIt-Anchor" href="#删除已存在的记录行"></a> 删除已存在的记录(行)</h1>
<p>不加WHERE子句将删除所有行。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> table_name <span class="keyword">WHERE</span> <span class="keyword">condition</span>;</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> Customers <span class="keyword">WHERE</span> CustomerName<span class="operator">=</span><span class="string">&#x27;Alfreds Futterkiste&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h1 id="创建表"><a class="markdownIt-Anchor" href="#创建表"></a> 创建表</h1>
<p>SQLite建表时可以不设置类型，它是弱类型的，类似JS的变量，可以随便存。即便设置类型也只是设置类型偏好，期望以该类型来读，而不是类型的定义。<br />
再后面可以设置是否允许字段为NULL，是否有默认值。<br />
建表时使用AS子句可以基于一个查询结果创建表。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> table_name (</span><br><span class="line">    column1 datatype,</span><br><span class="line">    column2 datatype,</span><br><span class="line">    column3 datatype,</span><br><span class="line">   ....</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Persons (</span><br><span class="line">    PersonID <span class="type">int</span>,</span><br><span class="line">    LastName <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    FirstName <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    Address <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    City <span class="type">varchar</span>(<span class="number">255</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Persons (</span><br><span class="line">    ID <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    LastName <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    FirstName <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    Age <span class="type">int</span>,</span><br><span class="line">    City <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;Sandnes&#x27;</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> new_table_name <span class="keyword">AS</span></span><br><span class="line">    <span class="keyword">SELECT</span> column1, column2,...</span><br><span class="line">    <span class="keyword">FROM</span> existing_table_name</span><br><span class="line">    <span class="keyword">WHERE</span> ....;</span><br></pre></td></tr></table></figure>
<h1 id="删除表"><a class="markdownIt-Anchor" href="#删除表"></a> 删除表</h1>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> table_name;</span><br></pre></td></tr></table></figure>
<h1 id="修改表结构"><a class="markdownIt-Anchor" href="#修改表结构"></a> 修改表结构</h1>
<p>增加一个字段</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name</span><br><span class="line"><span class="keyword">ADD</span> column_name datatype;</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Customers</span><br><span class="line"><span class="keyword">ADD</span> Email <span class="type">varchar</span>(<span class="number">255</span>);</span><br></pre></td></tr></table></figure>
<p>删除一个字段（仅适用于某些数据库）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">COLUMN</span> column_name;</span><br></pre></td></tr></table></figure>
<p>另一种办法是基于旧表创建新的没有该字段的表，删除原表，为新表改名。</p>
<h1 id="字段约束"><a class="markdownIt-Anchor" href="#字段约束"></a> 字段约束</h1>
<p>每个字段可以设置它遵循的限制。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> table_name (</span><br><span class="line">    column1 datatype <span class="keyword">constraint</span>,</span><br><span class="line">    column2 datatype <span class="keyword">constraint</span>,</span><br><span class="line">    column3 datatype <span class="keyword">constraint</span>,</span><br><span class="line">    ....</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>非空：要求字段值不能为NULL。<br />
唯一（不重复）：要求字段值不能重复。<br />
主键约束：要求字段值不能为空，且字段值不重复。每个表只能有一个字段拥有主键约束。<br />
外键约束：要求字段值是另一张表的某个字段的值（如果另一张表某字段的值有1,2,3那么该字段的值也只能是1,2,3）<br />
CHECK：要求字段值满足某个条件。<br />
DEFAULT：设置默认值，当没有指定字段值时使用默认值。<br />
INDEX：要求为该字段创建索引，以便加速查找，但会占用额外空间，以及导致修改和删除效率降低。</p>
<p>自动递增：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Persons (</span><br><span class="line">    Personid <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">    LastName <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    FirstName <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    Age <span class="type">int</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (Personid)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h1 id="视图"><a class="markdownIt-Anchor" href="#视图"></a> 视图</h1>
<p>视图是基于查询语句创建的虚拟表。<br />
从视图进行查询，实际上会从视图所定义的查询语句中进行查询。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> view_name <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> column1, column2, ...</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">condition</span>;</span><br></pre></td></tr></table></figure>
<h1 id="索引"><a class="markdownIt-Anchor" href="#索引"></a> 索引</h1>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> INDEX index_name</span><br><span class="line"><span class="keyword">ON</span> table_name (column1, column2, ...);</span><br></pre></td></tr></table></figure>
<p>索引占用空间，加快查询速度，但增删改时要花额外事件<br />
查询效率由N提升为logN</p>
<h1 id="合并表"><a class="markdownIt-Anchor" href="#合并表"></a> 合并表</h1>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> A <span class="keyword">JOIN</span> B <span class="keyword">ON</span> A.x <span class="operator">=</span> B.y</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> A <span class="keyword">JOIN</span> B <span class="keyword">ON</span> A.x <span class="operator">&lt;&gt;</span> B.y</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> A <span class="keyword">JOIN</span> B <span class="keyword">ON</span> A.x <span class="operator">=</span> <span class="number">2</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> A <span class="keyword">JOIN</span> B <span class="keyword">ON</span> A.x <span class="operator">&gt;</span> B.y</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> A <span class="keyword">JOIN</span> B <span class="keyword">ON</span> B.y <span class="keyword">LIKE</span> <span class="string">&#x27;N%&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> A <span class="keyword">JOIN</span> B <span class="keyword">ON</span> search_condition</span><br></pre></td></tr></table></figure>
<p>任何在WHERE子句中可以使用的条件表达式，都可以在ON子句中使用。<br />
JOIN关键字左表的表称为左表，JOIN关键字右边的表称为右表。<br />
一个常见的误区是不应该认为<code>search_condition</code>中只有<code>A.x = B.y</code>一种形式，常见的维恩图几乎都只是对这种形式的<code>search_condition</code>的解释，所以不需要用维恩图。</p>
<p>常见的JOIN子句有四种：</p>
<ol>
<li>INNER JOIN（简写为JOIN）：遍历两个表中每一行，如果条件表达式为真，则将两行合并成一行添加到结果表。等价于将两个表作笛卡尔积，然后保留所有条件表达式为真的行。</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- SQL92开始才有JOIN语法</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> A <span class="keyword">JOIN</span> B <span class="keyword">ON</span> search_condition</span><br><span class="line"><span class="comment">-- SQL89时用逗号表示隐式的CROSS JOIN或者说不加ON的INNER JOIN</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> A, B <span class="keyword">WHERE</span> search_condition</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">INNER_JOIN</span>(<span class="params">lTable, rTable, conditionFunc = ()=&gt;<span class="literal">true</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> resultTable = <span class="keyword">new</span> Table();</span><br><span class="line">  <span class="keyword">for</span>(lRow <span class="keyword">of</span> lTable) &#123;</span><br><span class="line">    <span class="keyword">for</span>(rRow <span class="keyword">of</span> Rtable) &#123;</span><br><span class="line">      <span class="keyword">if</span>(conditionFunc(lRow, rRow)) &#123;</span><br><span class="line">        <span class="keyword">let</span> mergeRow = Merge(lRow, rRow);</span><br><span class="line">        result.add(mergeRow)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> resultTable;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>LEFT OUTER JOIN（简写为LEFT JOIN）：遍历两个表中的每一行，如果条件表达式为真，则将两行合并成一行添加到结果表。但同时，如果左表中的某行没有和右表中的任意一行合并过，则将左表中的该行，与右表的空行（各字段值为NULL）合并。</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">LEFT_JOIN</span>(<span class="params">lTable, rTable, conditionFunc = ()=&gt;<span class="literal">true</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> resultTable = <span class="keyword">new</span> Table();</span><br><span class="line">  <span class="keyword">for</span>(lRow <span class="keyword">of</span> lTable) &#123;</span><br><span class="line">    <span class="keyword">let</span> hasInRight = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span>(rRow <span class="keyword">of</span> Rtable) &#123;</span><br><span class="line">      <span class="keyword">if</span>(conditionFunc(lRow, rRow)) &#123;</span><br><span class="line">        hasInRight = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">let</span> mergeRow = Merge(lRow, rRow);</span><br><span class="line">        result.add(mergeRow)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!hasInRight) &#123;</span><br><span class="line">      <span class="keyword">let</span> nullRightRow = rTable.newRow(<span class="literal">null</span>);</span><br><span class="line">      <span class="keyword">let</span> mergeRow = Merge(lRow, nullRightRow);</span><br><span class="line">      result.add(mergeRow)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> resultTable;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>RIGHT OUTER JOIN（简写为RIGHT JOIN）：等价于交换左右表的LEFT JOIN。</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> A <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> B <span class="keyword">ON</span> search_condition</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> B <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> A <span class="keyword">ON</span> search_condition</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">RIGHT_JOIN</span>(<span class="params">lTable, rTable, conditionFunc = ()=&gt;<span class="literal">true</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> LEFT_JOIN(rTable, lTable, conditionFunc);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>FULL OUTER JOIN（简写为FULL JOIN）：等价于LEFT JOIN与RIGHT JOIN的结果合并并去重。</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FULL_JOIN</span>(<span class="params">lTable, rTable, conditionFunc = ()=&gt;<span class="literal">true</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> ljTable = LEFT_JOIN(lTable, rTable, conditionFunc);</span><br><span class="line">  <span class="keyword">let</span> rjTable = RIGHT_JOIN(lTable, rTable, conditionFunc);</span><br><span class="line">  <span class="keyword">let</span> resultTable = DISTINCT(UNION(ljTable, rjTable));</span><br><span class="line">  <span class="keyword">return</span> resultTable;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注1：<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/join.html">13.2.10.2 JOIN Clause</a><br />
In MySQL, JOIN, CROSS JOIN, and INNER JOIN are syntactic equivalents (they can replace each other). In standard SQL, they are not equivalent. INNER JOIN is used with an ON clause, CROSS JOIN is used otherwise.<br />
在MySQL中，JOIN、CROSS JOIN和INNER JOIN是语义等价的（它们可以彼此替代）。在标准SQL中，他们不是等价的。有ON子句时使用INNER JOIN，没有时使用CROSS JOIN。</p>
<p>因此在没有ON子句时所有JOIN的结果都是笛卡尔积。MYSQL要求OUTER JOIN必须跟ON子句。</p>
<p>注2：相同ON子句的情况下，LEFT JOIN返回的行数一定大于等于INNER JOIN。</p>
<h1 id="分组"><a class="markdownIt-Anchor" href="#分组"></a> 分组</h1>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(SupplierID), Country <span class="keyword">FROM</span> Suppliers <span class="keyword">group</span> <span class="keyword">by</span> Country;</span><br></pre></td></tr></table></figure>
<p>当使用groupby时，AVG等函数将对每个分组运行一边。</p>
<h1 id="添加数据"><a class="markdownIt-Anchor" href="#添加数据"></a> 添加数据</h1>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table_name (column1, column2, column3, ...)</span><br><span class="line"><span class="keyword">VALUES</span> (value1, value2, value3, ...);</span><br></pre></td></tr></table></figure>
<p>如果给每个字段都添加值，也可以不写字段名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table_name</span><br><span class="line"><span class="keyword">VALUES</span> (value1, value2, value3, ...);</span><br></pre></td></tr></table></figure>
<h1 id="数据库设计与范式"><a class="markdownIt-Anchor" href="#数据库设计与范式"></a> 数据库设计与范式</h1>
<p>每个事物独立一张表（用户、提问、评论、标签）<br />
多对多关系往往再独立一张表（问题的标签）<br />
当修改某信息时，一般只需要修改数据库中的一个单元格。<br />
范式是用来评价/评估数据库设计的冗余程度的。<br />
一共有第一到第七范式，7级范式<br />
BC范式</p>
<p>越高的范式意味着表的设计冗余越少<br />
每一个类型的实体设计一个表：学生表、职工表、院系表、专业表<br />
每一个关系设计一个表：</p>
<p>传递依赖性：不应该在学生表里保存院系ID和院系主任姓名。</p>
<p>事务(trans action，交易）<br />
一手交钱一手交货</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">BEGIN</span> TRANSATION</span><br><span class="line">UPDATE XXX</span><br><span class="line"><span class="keyword">END</span> TRANSATION</span><br></pre></td></tr></table></figure>
<p>需要满足ACID特性：<br />
原子性<br />
持久性<br />
一致性<br />
隔离性</p>
<p>存储过程：SQL语言的函数</p>
<p>锁 LOCK<br />
表级锁<br />
行级锁</p>
<p>数据库系统设计（目的是实现一个数据库例如SQLite）<br />
数据文件格式<br />
链式<br />
索引，平衡树（红黑树）<br />
SQL语句的解析<br />
Perpare<br />
优化<br />
网络数据库<br />
连接池    线程池<br />
主从数据库<br />
分布式数据库</p>
<p>ORM Object Relational Model 对象关系模型</p>
<p>Users.create()<br />
<a target="_blank" rel="noopener" href="http://user.name">user.name</a> = xxx<br />
user.save()<br />
将SQL语句封装成方法，使得代码中不再出现SQL语句。<br />
表 与 表里的行<br />
类 与 类是实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;Sequelize, Model, Datatypes&#125; = <span class="built_in">require</span>(<span class="string">&quot;sequelize&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> sequelize = <span class="keyword">new</span> Sequelize(<span class="string">&quot;slite://a1312&quot;</span>)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Model</span> </span>&#123;&#125;</span><br><span class="line">User.init(&#123;</span><br><span class="line">  username: DataTypes.STRING,</span><br><span class="line">  birthday: DataTypes.DATE</span><br><span class="line">&#125;, &#123;sequelize, <span class="attr">modelName</span>: <span class="string">&#x27;user&#x27;</span>&#125;);</span><br><span class="line">(<span class="keyword">async</span>()=&gt;&#123;</span><br><span class="line">  <span class="comment">// 将代码中的模型与数据库中的表同步</span></span><br><span class="line">  <span class="comment">// 检查字段是否匹配等</span></span><br><span class="line">  <span class="keyword">await</span> sequelize.sync();</span><br><span class="line">  cosnt jane = <span class="keyword">await</span> User.create(&#123;</span><br><span class="line">    username: <span class="string">&quot;jane&quot;</span>,</span><br><span class="line">    birthday: <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:rcocco@qq.com">rcocco</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://rcocco.github.io/categories/计算机/数据库/数据库概述.html">https://rcocco.github.io/categories/计算机/数据库/数据库概述.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://rcocco.github.io">rcocco's Blog</a>！</span></div></div><div class="post-meta__tag-list"></div><nav id="pagination"><div class="prev-post pull-left"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/Web%E5%BC%80%E5%8F%91/%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/Liquid.html"><i class="fa fa-chevron-left">  </i><span>Liquid</span></a></div><div class="next-post pull-right"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E6%95%B0%E6%8D%AE%E5%BA%8F%E5%88%97%E5%8C%96%E8%AF%AD%E8%A8%80/YAML.html"><span>YAML</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: 'a2cb0efab90aafe77d70',
  clientSecret: '4ab6a1536933e9a284900f708bef988ffb8c152f',
  repo: 'gitalk_comments',
  owner: 'rcocco',
  admin: 'rcocco',
  id: md5(decodeURI(location.pathname)),
  language: 'zh-CN'
})
gitalk.render('gitalk-container')</script></div></div><footer class="footer-bg" style="background-image: url(/bg.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2020 - 2021 By rcocco</div><div class="framework-info"><span>驱动 - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.0"></script><script src="/js/fancybox.js?version=1.9.0"></script><script src="/js/sidebar.js?version=1.9.0"></script><script src="/js/copy.js?version=1.9.0"></script><script src="/js/fireworks.js?version=1.9.0"></script><script src="/js/transition.js?version=1.9.0"></script><script src="/js/scroll.js?version=1.9.0"></script><script src="/js/head.js?version=1.9.0"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"><script src="/js/katex.js"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>